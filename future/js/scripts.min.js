window.onload = function() {
	var colorLinks = document.querySelectorAll('.color__link'),
		moreReviews = document.querySelector('.b-review__more'),
		commentary = document.querySelector('.b-review__commentary');

 	for (var i = 0; i < colorLinks.length; i++) {
		colorLinks[i].addEventListener("click", function(e) {
			e.preventDefault();
			e.stopPropagation();
			document
				.querySelector('.color_active')
				.classList
				.remove('color_active');
			this
				.classList
				.add('color_active');
		}, false);	
	};


	if (commentary.innerHTML.length > 260) {
		var commentaryFull = commentary.innerHTML;
		commentary.innerHTML = commentary.innerHTML.slice(1, 260);
		commentary.innerHTML += " ...";
		commentary.classList.remove('g-hidden');
		moreReviews.classList.remove('g-hidden');
		console.log(commentary);
	}	
	else {
		moreReviews.style.marginBottom = '0px';
		commentary
			.classList
			.remove('g-hidden');
	};


	moreReviews.addEventListener("click", function(e) {
		e.preventDefault();
		e.stopPropagation();
		
		commentary.style.maxHeight = '1000px';
		moreReviews.style.marginBottom = '0px';
		commentary.innerHTML = commentaryFull;
		this
			.classList
			.add('g-hidden');
	});

};

